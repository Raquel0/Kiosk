<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="images/favicon.ico">

    <title>1916 BARGE</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="assets/css/vizcaya.css" rel="stylesheet">


</head>

<body style="touch-action:none;">
    <script src="models/build/three.js"></script>
    <script src="libs/other/OrbitControls.js"></script>
    <script src="libs/loaders/GLTFLoader.js"></script>
    <script src="libs/inflate.min.js"></script>

    <div class="container-fluid">

        <div id="container">


            <div id="split-container" class="mini-container1">

                <div class="row">
                    <nav class="col-md-2 d-none d-md-block bg-light sidebar">
                        <div class="sidebar-sticky">

                            <h1>1916 BARGE</h1>
                            <p>This model depicts the Barge as it would have looked when it was completed in 1916. Using photographs from Vizcaya’s archives project partners created this accurate historic model that reveals the original detail and surface quality that has been lost over 100 years. This version provides a glimpse into the past and also offers staff and conservation professionals with clues about the continued loss that may occur into the future. </p>

                        </div>
                        <!--sticky footer-->
                        <footer class="footer">
                            <div>
                                <p align="center">
                                    <a href="index.html">Home</a> | <a href="es/1916barge.html">Español</a><br>
                                    <!--<p>This interactive was made possible through the support of</p>-->
                                    <a href="index.html"><img src="images/logo.png" alt="knight and vizcaya logo" style="width:100%" /></a>
                                </p>

                            </div>

                        </footer>

                    </nav>
                </div>


            </div>

            <div id="split-container" class="mini-container2">
                <div id="footer-div">

                    <div class="footer-split" id="footer-splitone">

                        <img class="footer-icon" src="images/wheelchair.svg">
                    </div>


                    <div class="footer-split" id="footer-splittwo">
                        <img class="footer-icon" id="button" src="images/arrows-alt.svg">

                    </div>
                </div>
                <iframe id="iframe" src="models/1916barge.html" allowfullscreen></iframe>
            </div>
        </div>
    </div>



    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>

    <script type="text/javascript">


        var button = document.querySelector('.mini-container2 #button');
        button.addEventListener('click', fullscreen);
        // when you are in fullscreen, ESC and F11 may not be trigger by keydown listener.
        // so don't use it to detect exit fullscreen
        document.addEventListener('keydown', function (e) {
            console.log('key press' + e.keyCode);
        });
        // detect enter or exit fullscreen mode
        document.addEventListener('webkitfullscreenchange', fullscreenChange);
        document.addEventListener('mozfullscreenchange', fullscreenChange);
        document.addEventListener('fullscreenchange', fullscreenChange);
        document.addEventListener('MSFullscreenChange', fullscreenChange);

        function fullscreen() {
            // check if fullscreen mode is available
            if (document.fullscreenEnabled ||
                document.webkitFullscreenEnabled ||
                document.mozFullScreenEnabled ||
                document.msFullscreenEnabled) {

                // which element will be fullscreen
                var iframe = document.querySelector('.mini-container2 iframe');
                // Do fullscreen
                if (iframe.requestFullscreen) {
                    iframe.requestFullscreen();
                } else if (iframe.webkitRequestFullscreen) {
                    iframe.webkitRequestFullscreen();
                } else if (iframe.mozRequestFullScreen) {
                    iframe.mozRequestFullScreen();
                } else if (iframe.msRequestFullscreen) {
                    iframe.msRequestFullscreen();
                }
            }
            else {
                document.querySelector('.error').innerHTML = 'Your browser is not supported';
            }
        }

        function fullscreenChange() {
            if (document.fullscreenEnabled ||
                document.webkitIsFullScreen ||
                document.mozFullScreen ||
                document.msFullscreenElement) {
                console.log('enter fullscreen');
            }
            else {
                console.log('exit fullscreen');
            }
            // force to reload iframe once to prevent the iframe source didn't care about trying to resize the window
            // comment this line and you will see
            var iframe = document.querySelector('iframe');
            iframe.src = iframe.src;
        }

    </script>

</body>
</html>
